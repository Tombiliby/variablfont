(this.webpackJsonpvariablfont=this.webpackJsonpvariablfont||[]).push([[0],{45:function(e,t,i){},61:function(e,t,i){"use strict";i.r(t);var s=i(2),a=i.n(s),n=i(37),c=i.n(n),l=(i(45),i(6)),r=Object(s.createContext)(),o=i(10);var u=function(e,t){switch(t.type){case"set_font":var i=Object(o.a)({},e);return i.article[t.selectedField]=t.fontUpdate,i;case"set_selectedField":return Object(o.a)(Object(o.a)({},e),{},{selectedField:t.selectedField});case"reset":return t.payload;default:return e}},d=i(16);i(24),i(36);d.a.initializeApp({apiKey:"AIzaSyAp-IUX_xEyzzDp9w4vanTm7onrq42aqOU",authDomain:"variablfont-3bbe5.firebaseapp.com",projectId:"variablfont-3bbe5",storageBucket:"variablfont-3bbe5.appspot.com",messagingSenderId:"8187443404",appId:"1:8187443404:web:8728854b57bffc06032a69",measurementId:"G-TK4MEJR7HS"});i(34);var m=i(22),b=i(1),j=function(e){var t=e.children,i=Object(s.useReducer)(u,{selectedField:"",article:{title1:{fontFamily:"Fraunces",variations:{SOFT:67,WONK:0,opsz:9,wght:652}},title2:{fontFamily:"Source Sans",variations:{wght:200}},title3:{fontFamily:"Source Sans",variations:{wght:500}},title4:{fontFamily:"Source Sans",variations:{wght:800}},body:{fontFamily:"Montserrat",variations:{wght:300}},quote:{fontFamily:"Montserrat",variations:{wght:300}}}}),a=Object(l.a)(i,2),n=a[0],c=a[1],o=Object(m.a)(d.a.firestore().collection("fonts").orderBy("name"),{snapshotListenOptions:{includeMetadataChanges:!0}}),j=Object(l.a)(o,3),f=j[0],O=j[1],x=j[2];return x&&console.log(x),Object(s.useEffect)((function(){O||f.forEach((function(e){var t,i;t=e.name,i=e.fileName,new FontFace(t,"url(./fonts/".concat(i,")"),{}).load().then((function(e){document.fonts.add(e)})).catch((function(e){e&&console.log(e)}))}))}),[f,O]),Object(b.jsxs)(r.Provider,{value:{state:n,dispatch:c},children:[O&&Object(b.jsx)("div",{children:"Loading..."}),t]})},f=i(19),O=i(11),x=i(39),v=i.n(x),p=function(e){var t=e.minVal,i=e.maxVal,s=e.val,a=e.slideChange,n=e.i;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("input",{onChange:function(e){a(n,e.target.value)},type:"range",min:t,max:i,value:s,step:"1"})})},h=function(e){var t=e.name,i=e.variations,a=e.applyFont,n={};i.forEach((function(e){n[e.name]=e.defaultVal}));var c=v()(t,n),r=Object(l.a)(c,2),u=r[0],d=r[1],m=Object(s.useState)(i),j=Object(l.a)(m,2),x=j[0],h=j[1],N=function(e,t){h((function(i){return i[e].defaultVal=Number(t),Object(O.a)(i)})),d(Object(f.a)({},x[e].name,Number(t)))};return Object(b.jsxs)("div",{className:"mb-5 rounded border border-gray-200 p-4 group opacity-50 hover:opacity-100",children:[Object(b.jsx)("div",{style:Object(o.a)({},u),className:"text-3xl mb-5 truncate",children:t}),x.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"font-bold",children:[e.name," : ",e.defaultVal]}),Object(b.jsx)(p,{minVal:e.minVal,maxVal:e.maxVal,val:e.defaultVal,slideChange:N,i:t})]},e.name)})),Object(b.jsx)("button",{onClick:function(){return a(t,x)},className:"rounded py-1 px-3 bg-blue-800 text-white block w-full mt-4 ",children:"Apply"})]})},N=function(e){var t=e.className,i=e.dispatch,s=e.selectedField,a=Object(m.a)(d.a.firestore().collection("fonts").orderBy("name"),{snapshotListenOptions:{includeMetadataChanges:!0}}),n=Object(l.a)(a,3),c=n[0],r=n[1],o=n[2],u=function(e,t){if(""!==s){var a={};t.forEach((function(e){var t=e.name,i=e.defaultVal;a[t]=i})),i({type:"set_font",fontUpdate:{fontFamily:e,variations:a},selectedField:s})}else alert("You must have selected \xe0 text field")};return Object(b.jsxs)("div",{className:"p-4 bg-white h-screen fixed z-30 w-64 overflow-y-auto ".concat(t),children:[o&&Object(b.jsxs)("strong",{children:["Error: ",JSON.stringify(o)]}),r&&Object(b.jsx)("span",{children:"Collection: Loading..."}),c&&c.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(h,{name:e.name,variations:e.variations,applyFont:u})},t)}))]})},g=function(e){var t=e.onFocusField,i=e.children,a=Object(s.useRef)(),n=function(e){if(a.current.contains(e.target)){t(!1)}else;};return Object(s.useEffect)((function(){return document.addEventListener("mouseup",n),function(){document.removeEventListener("mouseup",n)}})),Object(b.jsx)("div",{className:"h-full",ref:a,children:i})},F=function(e){var t=Object.entries(e);return t.length?t.map((function(e){var t=Object(l.a)(e,2),i=t[0],s=t[1];return"'".concat(i,"' ").concat(s)})).join(", "):"normal"},y=function(e){var t=e.onFocusField,i=e.fontStyle,a=e.fieldName,n=e.className,c=e.children,l=Object(s.useRef)(),r=["".concat(n," hover:outline-none focus-visible:outline-none hover:ring hover:ring-blue-100 focus:ring focus:ring-blue-300")],o={fontFamily:i.fontFamily,fontVariationSettings:F(i.variations)};return Object(b.jsx)("div",{onClick:function(e){if(l.current.contains(e.target)){t(!0,a)}else;},contentEditable:!0,suppressContentEditableWarning:!0,ref:l,style:o,className:r,children:c})},S=function(e){var t=e.onFocusField,i=e.title,a=e.subTitle,n=e.desc,c=Object(s.useContext)(r).state;return Object(b.jsxs)("div",{className:"border border-gray-300 rounded p-6 mb-4",children:[Object(b.jsx)(y,{className:"text-2xl",fieldName:"title3",onFocusField:t,fontStyle:c.article.title3,children:i}),Object(b.jsx)(y,{className:"mb-4",fieldName:"title4",onFocusField:t,fontStyle:c.article.title4,children:a}),Object(b.jsx)(y,{className:"opacity-50",fieldName:"body",onFocusField:t,fontStyle:c.article.body,children:n})]})},q=function(e){var t=e.className,i=e.onFocusField;return Object(b.jsxs)("div",{className:"".concat(t),children:[Object(b.jsx)(S,{onFocusField:i,title:"Aliquam luctus purus nec tincidunt porta",subTitle:"Vestibulum ornare turpis et sapien",desc:"Nullam imperdiet orci quis malesuada rutrum. Ut viverra dictum risus, sed fermentum mauris vestibulum et. Suspendisse nunc dolor, efficitur sit amet vulputate at, blandit ac elit."}),Object(b.jsx)(S,{onFocusField:i,title:"Vivamus feugiat semper velit",subTitle:"Cras sed tortor vestibulum",desc:"Nullam imperdiet orci quis malesuada rutrum. Ut viverra dictum risus, sed fermentum mauris vestibulum et. Suspendisse nunc dolor, efficitur sit amet vulputate at, blandit ac elit."}),Object(b.jsx)(S,{onFocusField:i,title:"Cras sed tortor vestibulum",subTitle:"Nullam imperdiet orci quis",desc:"Nullam imperdiet orci quis malesuada rutrum. Ut viverra dictum risus, sed fermentum mauris vestibulum et. Suspendisse nunc dolor, efficitur sit amet vulputate at, blandit ac elit."}),Object(b.jsx)(S,{onFocusField:i,title:"Aliquam luctus purus nec tincidunt porta",subTitle:"Vestibulum ornare turpis et sapien",desc:"Nullam imperdiet orci quis malesuada rutrum. Ut viverra dictum risus, sed fermentum mauris vestibulum et. Suspendisse nunc dolor, efficitur sit amet vulputate at, blandit ac elit."})]})},w=function(e){var t=e.onFocusField,i=e.className,a=Object(s.useContext)(r).state;return Object(b.jsxs)("article",{className:"".concat(i),children:[Object(b.jsx)(y,{className:"text-6xl",fieldName:"title1",onFocusField:t,fontStyle:a.article.title1,children:"Etiam felis sapien"}),Object(b.jsx)(y,{className:"text-3xl mb-8",fieldName:"title2",onFocusField:t,fontStyle:a.article.title2,children:"Viverra eu pellentesque"}),Object(b.jsx)(y,{className:"mb-4",fieldName:"body",onFocusField:t,fontStyle:a.article.body,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sed elit vitae sem fermentum fermentum sed quis est. Vestibulum sed efficitur magna, in pretium diam. Praesent auctor velit mauris, vel scelerisque sem egestas at. Vestibulum orci ligula, tristique id faucibus at, vestibulum nec tortor. Maecenas sagittis, purus eu auctor feugiat, nisi est rutrum turpis, in facilisis mi mauris ut sem. Vestibulum elit quam, placerat a venenatis quis, accumsan vel neque. Vestibulum nibh turpis, finibus dictum rutrum ac, placerat nec felis."}),Object(b.jsx)(y,{className:"text-2xl",fieldName:"title3",onFocusField:t,fontStyle:a.article.title3,children:"Quisque ultrices velit vitae volutpat"}),Object(b.jsx)(y,{className:"mb-4",fieldName:"body",onFocusField:t,fontStyle:a.article.body,children:"Ut facilisis ligula ut sapien facilisis porta. Etiam consequat, risus lobortis elementum pulvinar, velit elit interdum est, a ornare nisi diam et est. Vestibulum vitae blandit diam. Curabitur luctus efficitur risus ut ultricies."}),Object(b.jsx)(y,{className:"p-5 mb-4 md:py-5 md:px-10 md:mb-0 md:w-80 md:float-right",fieldName:"quote",onFocusField:t,fontStyle:a.article.quote,children:"Etiam ac tincidunt nisi, suscipit eleifend urna. Curabitur sit amet sollicitudin est. Nullam imperdiet orci quis malesuada rutrum. Ut viverra dictum risus, sed fermentum mauris vestibulum et."}),Object(b.jsx)(y,{className:"mb-4",fieldName:"body",onFocusField:t,fontStyle:a.article.body,children:"Donec interdum arcu metus, a ultrices justo convallis vitae. Sed a massa ultrices, ultrices sem eget, porttitor dolor. In non nisl nulla. Mauris vel quam at augue pellentesque elementum. Suspendisse finibus quis felis eget faucibus. Suspendisse eu lacus sit amet erat imperdiet sollicitudin. Donec gravida, arcu id lobortis commodo, nisi leo auctor justo, a semper urna quam at dui. Nulla interdum turpis quis nisl interdum, ut efficitur metus finibus. Praesent ac ex sodales, ullamcorper risus nec, venenatis dolor. Vivamus ipsum libero, sagittis nec malesuada et, euismod quis eros. Proin facilisis purus eget turpis consectetur, ullamcorper sodales libero varius. Duis congue est id massa faucibus gravida. Mauris faucibus nunc vel congue pharetra. Pellentesque eleifend mauris non arcu porttitor, tempus tristique est vulputate."})]})},V=function(){var e=Object(s.useContext)(r),t=e.state,i=e.dispatch,a=Object(s.useState)(!1),n=Object(l.a)(a,2),c=n[0],o=n[1],u=function(e,t){if(e)return o(!0),void i({type:"set_selectedField",selectedField:t});o(!1),i({type:"set_selectedField",selectedField:""})};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(N,{className:"".concat(c?"shadow-2xl":"transform -translate-x-full"," transition-transform transition-shadow"),dispatch:i,selectedField:t.selectedField}),Object(b.jsx)(g,{onFocusField:u,children:Object(b.jsxs)("div",{className:"".concat(c?"transform translate-x-52":""," origin-center transition-transform p-8 md:p-24 md:pb-2 lg:flex items-center"),children:[Object(b.jsx)(w,{className:"flex-1",onFocusField:u}),Object(b.jsx)(q,{className:"flex-1  lg:ml-6  xl:ml-12",onFocusField:u})]})})]})},C=i(23),D=function(e){var t=e.name,i=e.control,s=e.register,a=Object(C.a)({control:i,name:t}),n=a.fields,c=a.remove,l=a.append;return Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{children:n.map((function(e,i){return Object(b.jsxs)("li",{className:"flex",children:[Object(b.jsx)("input",Object(o.a)({className:"w-full",type:"text"},s("".concat(t,".").concat(i,".name")))),Object(b.jsx)("button",{type:"button",className:"btn",onClick:function(){return c(i)},children:"Delete"})]},e.id)}))}),Object(b.jsx)("button",{className:"btn",type:"button",onClick:function(){l({name:""})},children:"ADD"})]})},E=function(e){var t=e.name,i=e.control,s=e.register,a=Object(C.a)({control:i,name:t}),n=a.fields,c=a.remove,l=a.append;return Object(b.jsxs)("div",{children:[n.map((function(e,i){return Object(b.jsxs)("div",{className:"bg-green-50 flex items-center",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Name"}),Object(b.jsx)("input",Object(o.a)({className:"w-full",type:"text"},s("".concat(t,".").concat(i,".name"))))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Default value maybe not"}),Object(b.jsx)("input",Object(o.a)({type:"number"},s("".concat(t,".").concat(i,".defaultVal"),{valueAsNumber:!0})))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Min value"}),Object(b.jsx)("input",Object(o.a)({type:"number"},s("".concat(t,".").concat(i,".minVal"),{valueAsNumber:!0})))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Max value"}),Object(b.jsx)("input",Object(o.a)({type:"number"},s("".concat(t,".").concat(i,".maxVal"),{valueAsNumber:!0})))]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"button",className:"btn",onClick:function(){return c(i)},children:"Delete"})})]},e.id)})),Object(b.jsx)("button",{className:"btn",type:"button",onClick:function(){l({})},children:"ADD"})]})},A=function(){var e=Object(m.a)(d.a.firestore().collection("fonts"),{snapshotListenOptions:{includeMetadataChanges:!0}}),t=Object(l.a)(e,3),i=t[0],s=t[1],a=t[2];return console.log(i),Object(b.jsxs)("ul",{className:"list-decimal list-inside",children:[a&&Object(b.jsxs)("strong",{children:["Error: ",JSON.stringify(a)]}),s&&Object(b.jsx)("span",{children:"Collection: Loading..."}),i&&i.map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{className:"font-bold",children:e.name})," : ",e.fileName]},t)}))]})},M=function(){var e=d.a.firestore(),t={variations:[{name:""}]},i=Object(C.b)({defaultValues:t}),s=i.control,a=i.register,n=i.handleSubmit,c=i.reset;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){var e=new d.a.auth.GoogleAuthProvider;d.a.auth().signInWithPopup(e).then((function(e){var t=e.user;console.log("".concat(t," logged"))})).catch((function(e){console.log(e.message)}))},children:"Login"}),Object(b.jsxs)("form",{onSubmit:n((function(i,s){e.collection("fonts").add(i).then((function(e){console.log("Document test written with ID: ",e.id),c(t)})).catch((function(e){console.error("Error adding document: ",e)}))})),children:[Object(b.jsx)(A,{}),Object(b.jsxs)("div",{className:"flex  p-4",children:[Object(b.jsxs)("div",{className:"flex-1 p-4",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"fileName"}),Object(b.jsx)("input",Object(o.a)({className:"w-full",type:"text",placeholder:"filenam.woff2"},a("fileName")))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Name"}),Object(b.jsx)("input",Object(o.a)({className:"w-full",defaultValue:"",type:"text"},a("name")))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Designer"}),Object(b.jsx)(D,{name:"designers",control:s,register:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Publisher"}),Object(b.jsx)(D,{name:"publisher",control:s,register:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Characters"}),Object(b.jsx)(D,{name:"characters",control:s,register:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Uploaded date"}),Object(b.jsx)("input",Object(o.a)({className:"w-full",type:"date"},a("uploadedDate")))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"ReleasedDate"}),Object(b.jsx)("input",Object(o.a)({className:"w-full",type:"date"},a("releasedDate")))]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"License"}),Object(b.jsx)(D,{name:"license",control:s,register:a})]})]}),Object(b.jsxs)("div",{className:"flex-1 p-4",children:[Object(b.jsxs)("div",{className:"font-bold",children:[Object(b.jsx)("div",{children:"Tags"}),Object(b.jsx)(D,{name:"tags",control:s,register:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Website"}),Object(b.jsx)(D,{name:"website",control:s,register:a})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"font-bold",children:"Variations"}),Object(b.jsx)(E,{name:"variations",control:s,register:a})]})]})]}),Object(b.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})},k=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(M,{})})},L=i(27),U=i(7),I=function(){return Object(b.jsx)(j,{children:Object(b.jsx)(L.a,{basename:"/",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("nav",{className:"hidden",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(L.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(L.b,{to:"/add",children:"Add type"})}),Object(b.jsx)("li",{children:Object(b.jsx)(L.b,{to:"/firebase",children:"Firebase"})})]})}),Object(b.jsxs)(U.c,{children:[Object(b.jsx)(U.a,{exact:!0,path:"/",children:Object(b.jsx)(V,{})}),Object(b.jsx)(U.a,{path:"/add",children:Object(b.jsx)(k,{})}),Object(b.jsx)(U.a,{path:"/firebase",children:Object(b.jsx)(A,{})})]})]})})})};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f650811c.chunk.js.map